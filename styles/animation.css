/* ===============================
   Animations & Motion
   - keyframes, transitions helpers,
   - reduced motion support
   =============================== */

/* Keyframes */
@keyframes fade-in {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes pop-in {
  0% { opacity: 0; transform: scale(.98); }
  100% { opacity: 1; transform: scale(1); }
}
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
@keyframes drop-loop {
  0% { transform: translateY(-20%); opacity: .9; }
  100% { transform: translateY(120%); opacity: 0; }
}

/* Helpers */
.anim-fade { animation: fade-in .24s ease both; }
.anim-pop  { animation: pop-in .22s ease both; }

/* Skeleton loading */
.skeleton {
  background: linear-gradient(90deg,
    color-mix(in lch, var(--surface-2), white 6%) 25%,
    color-mix(in lch, var(--surface-2), white 16%) 37%,
    color-mix(in lch, var(--surface-2), white 6%) 63%);
  background-size: 200% 100%;
  border-radius: var(--r-sm);
  animation: shimmer 1.2s ease-in-out infinite;
}

/* Water bottles / particles (если решим возвращать падения) */
.waterfall {
  position: relative; overflow: hidden;
}
.waterfall__drop {
  position: absolute; left: var(--x, 50%); top: -10%;
  width: var(--w, 12px); height: var(--h, 28px);
  border-radius: 6px 6px 10px 10px;
  background: color-mix(in lch, var(--accent), white 60%);
  opacity: .7;
  animation: drop-loop var(--dur, 2.6s) linear infinite;
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: .001ms !important; animation-iteration-count: 1 !important; transition-duration: .001ms !important; scroll-behavior: auto !important; }
}
