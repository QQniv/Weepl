<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Weepl v5 ‚Äî –°–µ–≥–æ–¥–Ω—è</title>
  <meta name="theme-color" content="#0E111A"/>

  <!-- –®—Ä–∏—Ñ—Ç—ã: Inter + Anton –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Anton&display=swap" rel="stylesheet">

  <style>
    :root{
      /* –ü–∞—Å—Ç–µ–ª—å–Ω–∞—è ¬´—É—Ç—Ä–µ–Ω–Ω–∏–π —Ç—É–º–∞–Ω¬ª + —Å—Ç–µ–∫–ª–æ */
      --bg:#0E111A;
      --grad1:#ECF2FF; /* –≥–æ–ª—É–±–æ–π –ª–µ–¥ */
      --grad2:#F4E7FF; /* –ª–∏–ª–æ–≤—ã–π –¥—ã–º */
      --grad3:#FFE9D6; /* –ø–µ—Ä—Å–∏–∫ */
      --card:#FFFFFFE6;
      --glass: rgba(255,255,255,.55);
      --text:#101318;
      --muted:#677089;
      --primary:#4B72FF;
      --ok:#2FCB89;
      --warn:#FFB24D;
      --danger:#FF6A59;
      --border:#00000010;
      --shadow: 0 10px 30px rgba(16,19,24,.12);
      --r:22px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
      background:
        radial-gradient(1200px 600px at 15% -10%, var(--grad1), transparent 55%),
        radial-gradient(1000px 600px at 90% 0%, var(--grad2), transparent 60%),
        radial-gradient(1000px 700px at 40% 100%, var(--grad3), transparent 60%),
        var(--bg);
      background-attachment: fixed;
    }

    /* Top bar */
    .top{
      position:sticky; top:0; z-index:5;
      padding:20px clamp(16px,4vw,24px) 12px;
      background: linear-gradient(180deg, rgba(255,255,255,.65), rgba(255,255,255,.35)) ;
      backdrop-filter:saturate(160%) blur(12px);
      box-shadow: var(--shadow);
      border-bottom:1px solid var(--border);
    }
    .top h1{margin:0 0 4px; font: 800 28px/1.1 Inter, sans-serif;}
    .top .sub{color:var(--muted); font-weight:600}

    /* AI tip capsule */
    .tip{
      margin:12px clamp(16px,4vw,24px) 0; padding:14px 16px; border-radius:18px;
      background: linear-gradient(90deg, #CFE1FF 0%, #E6D6FF 45%, #FFE4D3 100%);
      color:#1a1f28; position:relative; display:flex; gap:10px; align-items:flex-start;
      box-shadow: var(--shadow);
    }
    .tip .ico{width:22px; height:22px; border-radius:8px; background: #ffffffaa; display:inline-grid; place-items:center; font-weight:800}
    .tip .act{margin-left:auto; opacity:.7; cursor:pointer}
    .tip b{display:block;margin-bottom:2px}

    /* Cards */
    .content{padding:14px clamp(16px,4vw,24px) 96px}
    .grid{display:grid; gap:12px; grid-template-columns:1fr 1fr; align-items:stretch}
    @media (max-width:760px){ .grid{grid-template-columns:1fr} }

    .card{
      background: var(--card); border:1px solid var(--border); border-radius: var(--r);
      padding:16px; box-shadow: var(--shadow);
    }
    .card h3{margin:0 0 6px; font: 800 18px/1.2 Inter;}
    .card .sub{color:var(--muted)}
    .meta{display:flex; gap:12px; margin-top:12px; color:#2b3240; font-weight:700}
    .badge{padding:4px 8px; border-radius:10px; background:#F2F5FF; border:1px solid #E4EAFF}
    .time{margin-left:auto; color:#2b3240}

    /* Big wide card (–ø–µ—Ä–≤—ã–π –±–ª–æ–∫ –¥–Ω—è) */
    .card.wide{grid-column:1/-1}

    /* FAB + bottom nav */
    .fab{
      position: fixed; right: 18px; bottom: 90px;
      width:60px; height:60px; border-radius:18px; border:none;
      background: linear-gradient(180deg, var(--primary), #2E4BEA);
      color:#fff; font-size:28px; font-weight:700; cursor:pointer; box-shadow:0 14px 36px rgba(46,75,234,.35);
    }
    .nav{
      position: fixed; left:0; right:0; bottom:0; z-index:6;
      display:flex; gap:8px; justify-content:space-around; align-items:center;
      padding:10px 12px calc(env(safe-area-inset-bottom) + 10px);
      background: rgba(255,255,255,.8); backdrop-filter: blur(14px) saturate(180%);
      border-top:1px solid var(--border);
    }
    .nav .it{
      flex:1; text-align:center; padding:10px 0; border-radius:14px; font-weight:700; color:#2c3342;
    }
    .nav .it.active{ background:#F2F5FF; border:1px solid #E4EAFF; }

    /* Modal edit */
    .modal{
      position:fixed; inset:0; display:none; place-items:end; background:rgba(10,14,20,.4);
    }
    .modal.open{display:grid}
    .sheet{
      width:100%; background:#fff; border-radius: 26px 26px 0 0; padding:18px 16px 22px; box-shadow:0 -10px 40px rgba(0,0,0,.2);
    }
    .sheet h4{margin:0 0 8px; font:800 18px/1 Inter;}
    .row{display:flex; gap:10px; align-items:center; margin:12px 0}
    .inp, .btn{border:1px solid #E6E9F5; background:#FAFBFF; border-radius:14px; padding:12px 14px; font:600 15px/1 Inter; color:#111}
    .inp{flex:1}
    .chips{display:flex; gap:8px; flex-wrap:wrap}
    .chip{
      border-radius:12px; padding:10px 16px; font-weight:800; cursor:pointer; border:1px solid #0000;
      transition: .15s transform;
    }
    .chip.A{background:#FFE5E2; border-color:#FFD2CD}
    .chip.B{background:#FFF3D9; border-color:#FFE4AD}
    .chip.C{background:#E9F8EF; border-color:#CFF4DD}
    .chip.D{background:#ECF1FF; border-color:#D9E4FF}
    .chip.active{outline:2px solid #202A; transform: translateY(-1px)}
    .actions{display:flex; justify-content:space-between; margin-top:12px}
    .btn.primary{background:#2F49F1; color:#fff}
    .btn.ghost{background:#fff}

    /* Small helpers */
    .k{color:#8a93a9}
    .ic{font-style:normal}
  </style>
</head>
<body>

  <!-- –í–µ—Ä—Ö–Ω—è—è –ø–æ–ª–æ—Å–∞ -->
  <header class="top">
    <div class="sub">–í—Ç–æ—Ä–Ω–∏–∫, 4 –Ω–æ—è–±—Ä—è</div>
    <h1>–°–µ–≥–æ–¥–Ω—è</h1>
  </header>

  <!-- AI-—Å–æ–≤–µ—Ç -->
  <section class="tip" id="tip">
    <div class="ico">‚ú∫</div>
    <div>
      <b>AI-—Å–æ–≤–µ—Ç:</b>
      <span id="tipText">–ó–∞–ø–∏—à–∏ 3 –∑–∞–¥–∞—á–∏ –¥–Ω—è. –û—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî –≤ –±—ç–∫–ª–æ–≥. –ß—ë—Ç–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã —É–º–µ–Ω—å—à–∞—é—Ç –ø—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∞—Ü–∏—é.</span>
    </div>
    <button class="act" id="tipRefresh" title="–û–±–Ω–æ–≤–∏—Ç—å">‚Üª</button>
  </section>

  <!-- –ö–æ–Ω—Ç–µ–Ω—Ç: –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–¥–∞—á/—Å–æ–±—ã—Ç–∏–π -->
  <main class="content">
    <div class="grid" id="cards">
      <!-- –®–∏—Ä–æ–∫–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ ‚Äî –ø–µ—Ä–≤–∞—è –∑–∞–¥–∞—á–∞ -->
      <article class="card wide">
        <h3>–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</h3>
        <div class="sub">UI –ø—Ä–æ—Ç–æ—Ç–∏–ø Weepl v3 ‚Äî –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è</div>
        <div class="meta">
          <span class="badge">–ü—Ä–æ–µ–∫—Ç: Weepl</span>
          <span class="time">09:00</span>
        </div>
      </article>

      <article class="card" data-id="t2">
        <h3>–ö–æ—Ñ–µ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
        <div class="sub">10 –º–∏–Ω—É—Ç —Ç–∏—à–∏–Ω—ã, —Ä–µ–≤—å—é –∑–∞–¥–∞—á</div>
        <div class="meta"><span class="badge">–§–æ–∫—É—Å</span><span class="time">11:00</span></div>
      </article>

      <article class="card" data-id="t3">
        <h3>–ú–∏—Ç–∏–Ω–≥ —Å –ê—Ä—Ç—ë–º–æ–º</h3>
        <div class="sub">–î–∏–∑–∞–π–Ω-—Å–µ—Å—Å–∏—è: –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –º–∏–∫—Ä–æ–∏–Ω—Ç–µ—Ä–∞–∫—Ü–∏–∏</div>
        <div class="meta"><span class="badge">–°–æ–∑–≤–æ–Ω</span><span class="time">13:30</span></div>
      </article>

      <article class="card" data-id="t4">
        <h3>–ü—Ä–æ–≥—É–ª–∫–∞</h3>
        <div class="sub">15-20 –º–∏–Ω—É—Ç</div>
        <div class="meta"><span class="badge">–ó–¥–æ—Ä–æ–≤—å–µ</span><span class="time">17:00</span></div>
      </article>
    </div>
  </main>

  <!-- –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
  <button class="fab" id="add">Ôºã</button>

  <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
  <nav class="nav" role="tablist">
    <div class="it active" data-tab="today">üè†<br><span class="k">–°–µ–≥–æ–¥–Ω—è</span></div>
    <div class="it" data-tab="archive">üóÇÔ∏è<br><span class="k">–ê—Ä—Ö–∏–≤</span></div>
    <div class="it" data-tab="analytics">üìà<br><span class="k">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</span></div>
    <div class="it" data-tab="settings">‚öôÔ∏è<br><span class="k">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span></div>
  </nav>

  <!-- –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—Å–æ–∑–¥–∞–Ω–∏—è -->
  <div class="modal" id="modal">
    <div class="sheet">
      <h4 id="modalTitle">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</h4>
      <div class="row"><input class="inp" id="fTitle" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫"/></div>
      <div class="row"><input class="inp" id="fDesc" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ"/></div>
      <div class="row">
        <input class="inp" id="fProject" placeholder="–ü—Ä–æ–µ–∫—Ç"/>
        <input class="inp" id="fTime" type="time" value="09:00"/>
      </div>
      <div class="row">
        <div class="k" style="min-width:80px;font-weight:800">–í–∞–∂–Ω–æ—Å—Ç—å</div>
        <div class="chips" id="chips">
          <div class="chip A" data-v="A">A</div>
          <div class="chip B" data-v="B">B</div>
          <div class="chip C" data-v="C">C</div>
          <div class="chip D" data-v="D">D</div>
        </div>
      </div>
      <div class="actions">
        <button class="btn" id="delete" style="color:#d23">–£–¥–∞–ª–∏—Ç—å</button>
        <div>
          <button class="btn ghost" id="cancel">–û—Ç–º–µ–Ω–∞</button>
          <button class="btn primary" id="save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // --- –î–∞–Ω–Ω—ã–µ (MVP –ª–æ–∫–∞–ª—å–Ω–æ). –ü–æ—Ç–æ–º –∑–∞–º–µ–Ω–∏–º –Ω–∞ –ë–î + –∏–º–ø–æ—Ä—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.
    let tasks = [
      {id:"t1", title:"–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞", desc:"UI –ø—Ä–æ—Ç–æ—Ç–∏–ø Weepl v3 ‚Äî –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è", proj:"Weepl", time:"09:00", rank:"B"},
      {id:"t2", title:"–ö–æ—Ñ–µ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", desc:"10 –º–∏–Ω—É—Ç —Ç–∏—à–∏–Ω—ã, —Ä–µ–≤—å—é –∑–∞–¥–∞—á", proj:"–§–æ–∫—É—Å", time:"11:00", rank:"B"},
      {id:"t3", title:"–ú–∏—Ç–∏–Ω–≥ —Å –ê—Ä—Ç—ë–º–æ–º", desc:"–î–∏–∑–∞–π–Ω-—Å–µ—Å—Å–∏—è: –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –º–∏–∫—Ä–æ–∏–Ω—Ç–µ—Ä–∞–∫—Ü–∏–∏", proj:"–°–æ–∑–≤–æ–Ω", time:"13:30", rank:"A"},
      {id:"t4", title:"–ü—Ä–æ–≥—É–ª–∫–∞", desc:"15-20 –º–∏–Ω—É—Ç", proj:"–ó–¥–æ—Ä–æ–≤—å–µ", time:"17:00", rank:"C"},
    ];

    const elCards = document.getElementById('cards');
    function cardTemplate(t, wide=false){
      return `
      <article class="card ${wide?'wide':''}" data-id="${t.id}">
        <h3>${t.title}</h3>
        <div class="sub">${t.desc||''}</div>
        <div class="meta">
          <span class="badge">${t.proj||'–ó–∞–¥–∞—á–∏'}</span>
          <span class="time">${t.time||''}</span>
        </div>
      </article>`;
    }
    function render(){
      const [first, ...rest] = tasks;
      elCards.innerHTML = cardTemplate(first, true) + rest.map(t=>cardTemplate(t)).join('');
      // –∫–ª–∏–∫–∏ -> —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
      elCards.querySelectorAll('.card').forEach(c=>{
        c.addEventListener('click', ()=> openModal(tasks.find(x=>x.id===c.dataset.id)));
      });
    }
    render();

    // --- AI Tip (—ç–≤—Ä–∏—Å—Ç–∏–∫–∞ –ø–æ–¥ MVP)
    const tips = [
      "–ó–∞–ø–∏—à–∏ 3 –∑–∞–¥–∞—á–∏ –¥–Ω—è. –û—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî –≤ –±—ç–∫–ª–æ–≥.",
      "–°–¥–µ–ª–∞–π 25-–º–∏–Ω—É—Ç–Ω—É—é —Å–µ—Å—Å–∏—é –Ω–∞ —Å–∞–º—É—é –≤–∞–∂–Ω—É—é –∑–∞–¥–∞—á—É (A).",
      "–ü–µ—Ä–µ–¥ —Å–æ–∑–≤–æ–Ω–æ–º –Ω–∞–±—Ä–æ—Å–∞–π 3 —Ç–µ–∑–∏—Å–∞ ‚Äî —ç—Ç–æ —ç–∫–æ–Ω–æ–º–∏—Ç 15 –º–∏–Ω—É—Ç –æ–±—Å—É–∂–¥–µ–Ω–∏—è.",
      "–ü–ª–∞–Ω-–±—É—Ñ–µ—Ä: –æ—Å—Ç–∞–≤–ª—è–π 10% —Å–ª–æ—Ç–æ–≤ –ø—É—Å—Ç—ã–º–∏ –¥–ª—è —Ñ–æ—Ä—Å-–º–∞–∂–æ—Ä–æ–≤.",
      "–°–æ–±–µ—Ä–∏ –µ–¥–∏–Ω—ã–π –≤—Ö–æ–¥—è—â–∏–π ‚Äî –º–æ–∑–≥—É –ª–µ–≥—á–µ, –∫–æ–≥–¥–∞ —Ö–∞–æ—Å –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ."
    ];
    document.getElementById('tipRefresh').onclick = ()=>{
      const s = tips[Math.floor(Math.random()*tips.length)];
      document.getElementById('tipText').textContent = s;
    };

    // --- Modal CRUD
    const modal = document.getElementById('modal');
    const fTitle = document.getElementById('fTitle');
    const fDesc  = document.getElementById('fDesc');
    const fProj  = document.getElementById('fProject');
    const fTime  = document.getElementById('fTime');
    const chips  = document.getElementById('chips');
    const delBtn = document.getElementById('delete');

    let current = null;

    function openModal(data){
      document.getElementById('modalTitle').textContent = data ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏' : '–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞';
      current = data ? {...data} : {id:crypto.randomUUID(), title:'', desc:'', proj:'', time:'', rank:'C'};
      fTitle.value = current.title||'';
      fDesc.value  = current.desc||'';
      fProj.value  = current.proj||'';
      fTime.value  = current.time||'';
      chips.querySelectorAll('.chip').forEach(c=>{
        c.classList.toggle('active', c.dataset.v===current.rank);
      });
      delBtn.style.visibility = data ? 'visible' : 'hidden';
      modal.classList.add('open');
    }

    // –æ—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É –ø–æ FAB
    document.getElementById('add').onclick = ()=> openModal(null);

    // –≤—ã–±–æ—Ä —Ä–∞–Ω–≥–∞
    chips.addEventListener('click', e=>{
      const chip = e.target.closest('.chip'); if(!chip) return;
      chips.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));
      chip.classList.add('active');
      current.rank = chip.dataset.v;
    });

    // –¥–µ–π—Å—Ç–≤–∏—è
    document.getElementById('cancel').onclick = ()=> modal.classList.remove('open');
    document.getElementById('save').onclick = ()=>{
      current.title = fTitle.value.trim();
      current.desc  = fDesc.value.trim();
      current.proj  = fProj.value.trim();
      current.time  = fTime.value;
      const i = tasks.findIndex(x=>x.id===current.id);
      if(i>=0) tasks[i]=current; else tasks.splice(1,0,current); // –Ω–æ–≤—ã–µ –∏–¥—É—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π —à–∏—Ä–æ–∫–æ–π
      modal.classList.remove('open'); render();
    };
    delBtn.onclick = ()=>{
      tasks = tasks.filter(x=>x.id!==current.id);
      modal.classList.remove('open'); render();
    };

    // –∫–ª–∏–∫–∏ –≤–Ω–µ –ª–∏—Å—Ç–∞ ‚Äî –∑–∞–∫—Ä—ã—Ç—å
    modal.addEventListener('click', (e)=>{ if(e.target===modal) modal.classList.remove('open'); });
  </script>
</body>
</html>
