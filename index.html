<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>–ü–ª–∞–Ω–µ—Ä ‚Äî –°–µ–≥–æ–¥–Ω—è</title>
<link rel="manifest" href="manifest.webmanifest">
<link rel="stylesheet" href="css/styles.css">
<meta name="theme-color" content="#0D0F10">
</head>
<body>
<div class="app">
  <header class="appbar">
    <div class="icon">‚ò∞</div>
    <div class="title" id="appTitle">–°–µ–≥–æ–¥–Ω—è</div>
    <div class="icon" id="btnBell">üîî</div>
  </header>

  <!-- ====== SCREEN: TODAY ====== -->
  <div id="screenToday" class="screen active">
    <div class="section month">
      <button id="prev">‚Äπ</button>
      <div id="monthLabel" style="font-weight:700"></div>
      <button id="next">‚Ä∫</button>
    </div>
    <div class="section days" id="dayStrip"></div>
    <div class="panel" id="taskList"></div>
  </div>

  <!-- ====== SCREEN: SETTINGS ====== -->
  <div id="screenSettings" class="screen">
    <div class="settings">
      <div class="set-card">
        <div class="set-h">–û–±—É—á–µ–Ω–∏–µ</div>
        <div class="set-row">
          <div>–ü—Ä–æ–π—Ç–∏ –æ–±—É—á–µ–Ω–∏–µ –∑–∞–Ω–æ–≤–æ</div>
          <button class="btn" id="btnStartTutorial">–û—Ç–∫—Ä—ã—Ç—å</button>
        </div>
        <div class="set-row">
          <div>–°–±—Ä–æ—Å–∏—Ç—å —Ñ–ª–∞–≥ ¬´–æ–±—É—á–µ–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ¬ª</div>
          <button class="btn" id="btnResetTutorial">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>
      </div>

      <div class="set-card">
        <div class="set-h">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</div>
        <div class="set-row" style="align-items:center">
          <div>–¢–µ–º–∞</div>
          <div class="switcher" id="themeSeg">
            <button data-mode="light">–°–≤–µ—Ç–ª–∞—è</button>
            <button data-mode="dark">–¢—ë–º–Ω–∞—è</button>
          </div>
        </div>
        <div class="set-row" style="flex-direction:column;align-items:flex-start">
          <div>–ê–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç</div>
          <div class="swatch-grid" id="accentGrid"></div>
        </div>
      </div>

      <div class="set-card">
        <div class="set-h">–ú–µ–ª–æ—á–∏</div>
        <div class="set-row">
          <div>–õ—ë–≥–∫–∞—è –≤–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö</div>
          <div class="switcher" id="hapticsSeg">
            <button data-haptics="off">–í—ã–∫–ª</button>
            <button data-haptics="on">–í–∫–ª</button>
          </div>
        </div>
        <div class="set-row">
          <div>–ó–≤—É–∫ –¥–µ–π—Å—Ç–≤–∏–π</div>
          <div class="switcher" id="soundsSeg">
            <button data-sounds="off">–í—ã–∫–ª</button>
            <button data-sounds="on">–í–∫–ª</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- NAV -->
  <div class="nav">
    <button class="tab active" data-screen="today" title="–°–µ–≥–æ–¥–Ω—è">üè†</button>
    <button class="tab" data-screen="calendar" title="–ö–∞–ª–µ–Ω–¥–∞—Ä—å (—Å–∫–æ—Ä–æ)">üìÖ</button>
    <button class="tab" data-screen="projects" title="–ü—Ä–æ–µ–∫—Ç—ã (—Å–∫–æ—Ä–æ)">üóÇ</button>
    <button class="tab" data-screen="settings" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
  </div>

  <button class="fab" id="fab">Ôºã</button>
</div>

<canvas id="confettiCanvas"></canvas>

<!-- ====== ADD/EDIT SHEET ====== -->
<div class="backdrop" id="bd"></div>
<div class="sheet" id="sheet">
  <div class="handle"></div>
  <div class="body">
    <div class="field">
      <div class="label">–ù–∞–∑–≤–∞–Ω–∏–µ</div>
      <input id="f_title" class="input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–¥–∞—Ç—å –æ—Ç—á—ë—Ç –ø–æ –ø—Ä–∞–∫—Ç–∏–∫–µ"/>
    </div>

    <div class="field">
      <div class="label">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–≠–π–∑–µ–Ω—Ö–∞—É—ç—Ä)</div>
      <div class="chips" id="f_eisen">
        <button class="chip" data-cat="A" title="–°—Ä–æ—á–Ω–æ –∏ –≤–∞–∂–Ω–æ">A ¬∑ –°—Ä–æ—á–Ω–æ/–≤–∞–∂–Ω–æ</button>
        <button class="chip" data-cat="B" title="–í–∞–∂–Ω–æ, –Ω–µ —Å—Ä–æ—á–Ω–æ">B ¬∑ –í–∞–∂–Ω–æ</button>
        <button class="chip" data-cat="C" title="–°—Ä–æ—á–Ω–æ, –Ω–µ –≤–∞–∂–Ω–æ">C ¬∑ –°—Ä–æ—á–Ω–æ</button>
        <button class="chip" data-cat="D" title="–ù–∏ —Å—Ä–æ—á–Ω–æ, –Ω–∏ –≤–∞–∂–Ω–æ">D ¬∑ –û—Ç–ª–æ–∂–∏—Ç—å</button>
      </div>
    </div>

    <div class="field">
      <div class="label">–¢–∏–ø</div>
      <div class="seg" id="f_type">
        <button data-type="task" aria-pressed="true">–ó–∞–¥–∞—á–∞</button>
        <button data-type="slot">–°–æ–±—ã—Ç–∏–µ</button>
      </div>
      <div class="hint">–°–æ–±—ã—Ç–∏–µ ‚Äî –∏–º–µ–µ—Ç –ø–µ—Ä–∏–æ–¥ –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ñ–æ–∫—É—Å-—Ç–∞–π–º–µ—Ä.</div>
    </div>

    <div class="field" id="taskTimeBlock">
      <div class="label">–ö–æ–≥–¥–∞ (–¥–ª—è –∑–∞–¥–∞—á–∏)</div>
      <div class="seg" id="f_when">
        <button data-mode="today" aria-pressed="true">–°–µ–≥–æ–¥–Ω—è</button>
        <button data-mode="pick">–í—ã–±—Ä–∞—Ç—å –¥–∞—Ç—É</button>
        <button data-mode="inbox">Inbox</button>
      </div>
      <div class="row">
        <div class="field" style="flex:1">
          <div class="label">–î–∞—Ç–∞</div>
          <input id="f_date" type="date" class="input"/>
        </div>
        <div class="field" style="flex:.9">
          <div class="label">–í—Ä–µ–º—è</div>
          <input id="f_time" type="time" class="input"/>
        </div>
      </div>
    </div>

    <div class="field" id="slotTimeBlock" style="display:none">
      <div class="label">–ü–µ—Ä–∏–æ–¥ (–¥–ª—è —Å–æ–±—ã—Ç–∏—è)</div>
      <div class="row">
        <div class="field" style="flex:1">
          <div class="label">–ù–∞—á–∞–ª–æ: –¥–∞—Ç–∞</div>
          <input id="f_start_date" type="date" class="input"/>
        </div>
        <div class="field" style="flex:.9">
          <div class="label">–ù–∞—á–∞–ª–æ: –≤—Ä–µ–º—è</div>
          <input id="f_start_time" type="time" class="input"/>
        </div>
      </div>
      <div class="row">
        <div class="field" style="flex:1">
          <div class="label">–ö–æ–Ω–µ—Ü: –¥–∞—Ç–∞</div>
          <input id="f_end_date" type="date" class="input"/>
        </div>
        <div class="field" style="flex:.9">
          <div class="label">–ö–æ–Ω–µ—Ü: –≤—Ä–µ–º—è</div>
          <input id="f_end_time" type="time" class="input"/>
        </div>
      </div>
    </div>

    <div class="field">
      <div class="label">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</div>
      <select id="f_notify" class="input">
        <option value="none">–ë–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</option>
        <option value="at">–í –º–æ–º–µ–Ω—Ç —Å–æ–±—ã—Ç–∏—è</option>
        <option value="5">–ó–∞ 5 –º–∏–Ω—É—Ç</option>
        <option value="15">–ó–∞ 15 –º–∏–Ω—É—Ç</option>
        <option value="30">–ó–∞ 30 –º–∏–Ω—É—Ç</option>
        <option value="60">–ó–∞ 1 —á–∞—Å</option>
        <option value="1440">–ó–∞ 1 –¥–µ–Ω—å</option>
      </select>
    </div>

    <div class="field">
      <div class="label">–ë—ã—Å—Ç—Ä—ã–π –≤–≤–æ–¥</div>
      <input id="f_quick" class="input" placeholder="–∑–∞–≤—Ç—Ä–∞ 18:00 –∫—É–ø–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã"/>
    </div>

    <div class="field">
      <div class="smart-head" id="smartHead">
        <div><strong>SMART</strong> ‚Äî —É—Ç–æ—á–Ω–∏—Ç—å —Ü–µ–ª—å –∑–∞–¥–∞—á–∏</div>
        <div>‚ñæ</div>
      </div>
      <div class="smart-wrap" id="smartWrap">
        <div class="smart-grid">
          <input id="sm_s" class="input" placeholder="S ‚Äî –ß—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ —Å–¥–µ–ª–∞—Ç—å?"/>
          <input id="sm_m" class="input" placeholder="M ‚Äî –ö–∞–∫ –∏–∑–º–µ—Ä—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç?"/>
          <input id="sm_a" class="input" placeholder="A ‚Äî –ß–µ–º –æ–±–µ—Å–ø–µ—á—É –¥–æ—Å—Ç–∏–∂–∏–º–æ—Å—Ç—å?"/>
          <input id="sm_r" class="input" placeholder="R ‚Äî –ó–∞—á–µ–º —ç—Ç–æ –≤–∞–∂–Ω–æ?"/>
          <input id="sm_t" class="input" placeholder="T ‚Äî –°—Ä–æ–∫ (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –¥–µ–¥–ª–∞–π–Ω–æ–º)"/>
        </div>
        <div class="hint">–ó–∞–ø–æ–ª–Ω–∏ —Ö–æ—Ç—è –±—ã 2‚Äì3 –ø—É–Ω–∫—Ç–∞ ‚Äî –º–æ–∑–≥—É –ª–µ–≥—á–µ.</div>
      </div>
    </div>

    <div class="footer">
      <button class="btn" id="btnCancel">–û—Ç–º–µ–Ω–∞</button>
      <button class="btn primary" id="btnCreate">–°–æ–∑–¥–∞—Ç—å</button>
    </div>
  </div>
</div>

<!-- ====== ONBOARDING (one-time) ====== -->
<div class="ob-wrap" id="obWrap" role="dialog" aria-modal="true">
  <div class="ob-card">
    <div id="obStep"></div>
    <div class="ob-dots" id="obDots"></div>
    <div class="ob-btm">
      <button class="ob-btn" id="obSkip">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
      <button class="ob-btn primary" id="obNext">–î–∞–ª—å—à–µ</button>
    </div>
  </div>
</div>

<!-- ====== FOCUS TIMER ====== -->
<div class="ft-wrap" id="ftWrap">
  <div class="ft-card">
    <div class="ft-top"><div class="ft-ttl">–§–æ–∫—É—Å</div><div id="ftTime">00:00</div></div>
    <div class="ft-canvas"><canvas id="ftCanvas" width="360" height="360"></canvas></div>
    <div class="ft-btm">
      <button class="ft-btn" id="ftStop">–°—Ç–æ–ø</button>
      <button class="ft-btn primary" id="ftPause">–ü–∞—É–∑–∞</button>
    </div>
  </div>
</div>

<script src="js/app.js"></script>
<script>
// PWA SW
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js');
}
</script>
</body>
</html>
