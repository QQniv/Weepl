<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Weepl ‚Äî —Ç–≤–æ–π –¥–µ–Ω—å</title>
  <meta name="theme-color" content="#0f1a2b" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="manifest" href="manifest.json" />
</head>

<body>
  <div class="app" id="app" data-theme="light" data-view="timeline">
    <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
    <header class="topbar">
      <button class="icon-btn" id="btnPrev" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–∏–π –º–µ—Å—è—Ü">
        <svg width="20" height="20" viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>

      <div class="month-title">
        <div class="month" id="monthLabel">–û–∫—Ç—è–±—Ä—å</div>
        <div class="year" id="yearLabel">2025</div>
      </div>

      <button class="icon-btn" id="btnNext" aria-label="–°–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü">
        <svg width="20" height="20" viewBox="0 0 24 24"><path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
    </header>

    <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω–∞—è –ª–µ–Ω—Ç–∞ -->
    <section class="calendar-strip">
      <div class="dates" id="dateStrip"></div>
    </section>

    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="content">
      <h2 class="section-title" id="todayTitle">–°–µ–≥–æ–¥–Ω—è</h2>

      <div id="timelineView" class="timeline-view"></div>
      <div id="cardsView" class="cards-view" hidden></div>
    </main>

    <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ -->
    <button class="fab" id="addBtn" aria-label="–î–æ–±–∞–≤–∏—Ç—å">
      <svg width="24" height="24" viewBox="0 0 24 24"><path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
    </button>

    <!-- –ù–∏–∂–Ω—è—è –æ–≤–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
    <nav class="bottombar" aria-label="–ì–ª–∞–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
      <button class="nav-btn is-active" data-route="today">
        <svg width="22" height="22" viewBox="0 0 24 24"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/><path d="M12 7v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        <span>–î–µ–Ω—å</span>
      </button>
      <button class="nav-btn" data-route="projects">
        <svg width="22" height="22" viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7" rx="2" stroke="currentColor" stroke-width="2"/><rect x="14" y="3" width="7" height="7" rx="2" stroke="currentColor" stroke-width="2"/><rect x="3" y="14" width="7" height="7" rx="2" stroke="currentColor" stroke-width="2"/><rect x="14" y="14" width="7" height="7" rx="2" stroke="currentColor" stroke-width="2"/></svg>
        <span>–ü—Ä–æ–µ–∫—Ç—ã</span>
      </button>

      <span class="nav-gap"></span>

      <button class="nav-btn" data-route="stats">
        <svg width="22" height="22" viewBox="0 0 24 24"><path d="M4 20v-8m6 8V4m6 16v-5m6 5v-9" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        <span>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</span>
      </button>
      <button class="nav-btn" id="openSettings" data-route="settings">
        <svg width="22" height="22" viewBox="0 0 24 24"><path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z" stroke="currentColor" stroke-width="2"/><path d="M19.4 15a1.7 1.7 0 0 0 .34 1.87l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06A1.7 1.7 0 0 0 15 19.4a1.7 1.7 0 0 0-1 .6 1.7 1.7 0 0 0-.4 1v.17a2 2 0 1 1-4 0V21a1.7 1.7 0 0 0-.4-1 1.7 1.7 0 0 0-1-.6 1.7 1.7 0 0 0-1.87-.34l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.7 1.7 0 0 0 4.6 15a1.7 1.7 0 0 0-.6-1 1.7 1.7 0 0 0-1-.4H2.83a2 2 0 1 1 0-4H3a1.7 1.7 0 0 0 1-.4 1.7 1.7 0 0 0 .6-1 1.7 1.7 0 0 0-.34-1.87l-.06-.06A2 2 0 1 1 7.03 2.8l.06.06A1.7 1.7 0 0 0 9 4.6c.37 0 .73-.14 1-.4a1.7 1.7 0 0 0 .4-1V2.83a2 2 0 1 1 4 0V3a1.7 1.7 0 0 0 .4 1c.27.26.63.4 1 .4a1.7 1.7 0 0 0 1.87-.34l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.7 1.7 0 0 0 19.4 9c0 .37.14.73.4 1 .26.27.63.4 1 .4H21.2a2 2 0 1 1 0 4H20.8a1.7 1.7 0 0 0-1 .4c-.26.27-.4.63-.4 1z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
        <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
      </button>
    </nav>
  </div>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
  <dialog id="taskModal" class="modal">
    <form method="dialog" class="modal-card" id="taskForm">
      <header class="modal-header">
        <h3 id="taskFormTitle">–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å</h3>
        <button class="icon-btn" value="close" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
          <svg width="20" height="20" viewBox="0 0 24 24"><path d="M6 6l12 12M18 6l-12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        </button>
      </header>

      <section class="modal-body grid">
        <label class="field">
          <span>–¢–∏–ø</span>
          <select id="taskType">
            <option value="event">–°–æ–±—ã—Ç–∏–µ</option>
            <option value="task">–ó–∞–¥–∞—á–∞</option>
          </select>
        </label>
        <label class="field">
          <span>–ù–∞–∑–≤–∞–Ω–∏–µ</span>
          <input type="text" id="taskTitle" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ó–∞–≤—Ç—Ä–∞–∫" />
        </label>
        <label class="field">
          <span>–û–ø–∏—Å–∞–Ω–∏–µ</span>
          <textarea id="taskDesc" rows="2" placeholder="–ü–æ–¥—Ä–æ–±–Ω–µ–µ..."></textarea>
        </label>

        <div class="grid-2" id="timeFields">
          <label class="field">
            <span>–ù–∞—á–∞–ª–æ</span>
            <input type="time" id="taskStart" />
          </label>
          <label class="field">
            <span>–ö–æ–Ω–µ—Ü</span>
            <input type="time" id="taskEnd" />
          </label>
        </div>

        <label class="field">
          <span>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</span>
          <select id="taskPriority">
            <option value="A">A ‚Äî –≤–∞–∂–Ω–æ –∏ —Å—Ä–æ—á–Ω–æ</option>
            <option value="B">B ‚Äî –≤–∞–∂–Ω–æ, –Ω–µ —Å—Ä–æ—á–Ω–æ</option>
            <option value="C">C ‚Äî –Ω–µ –≤–∞–∂–Ω–æ, —Å—Ä–æ—á–Ω–æ</option>
            <option value="D">D ‚Äî –Ω–µ –≤–∞–∂–Ω–æ –∏ –Ω–µ —Å—Ä–æ—á–Ω–æ</option>
          </select>
        </label>

        <label class="field">
          <span>–ò–∫–æ–Ω–∫–∞</span>
          <select id="taskIcon">
            <option value="‚òÄÔ∏è">‚òÄÔ∏è –£—Ç—Ä–æ</option>
            <option value="üíª">üíª –†–∞–±–æ—Ç–∞</option>
            <option value="‚òï">‚òï –ö–æ—Ñ–µ</option>
            <option value="üèÉ‚Äç‚ôÇÔ∏è">üèÉ‚Äç‚ôÇÔ∏è –°–ø–æ—Ä—Ç</option>
            <option value="üìñ">üìñ –£—á—ë–±–∞</option>
            <option value="üéß">üéß –ú—É–∑—ã–∫–∞</option>
            <option value="üí¨">üí¨ –í—Å—Ç—Ä–µ—á–∞</option>
            <option value="üçΩÔ∏è">üçΩÔ∏è –ï–¥–∞</option>
            <option value="üõí">üõí –ü–æ–∫—É–ø–∫–∏</option>
            <option value="üåô">üåô –û—Ç–¥—ã—Ö</option>
          </select>
        </label>
      </section>

      <footer class="modal-footer">
        <button class="btn" value="cancel">–û—Ç–º–µ–Ω–∞</button>
        <button class="btn primary" id="submitTask">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </footer>
    </form>
  </dialog>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
  <dialog id="settingsModal" class="modal">
    <form method="dialog" class="modal-card">
      <header class="modal-header">
        <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
        <button class="icon-btn" value="close">
          <svg width="20" height="20" viewBox="0 0 24 24"><path d="M6 6l12 12M18 6l-12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        </button>
      </header>

      <section class="modal-body">
        <fieldset class="field">
          <legend>–í–∏–¥ –≥–ª–∞–≤–Ω–æ–π</legend>
          <label class="radio"><input type="radio" name="view" value="timeline" checked> –¢–∞–π–º–ª–∞–π–Ω</label>
          <label class="radio"><input type="radio" name="view" value="cards"> –ö–∞—Ä—Ç–æ—á–∫–∏</label>
        </fieldset>

        <fieldset class="field">
          <legend>–¢–µ–º–∞</legend>
          <label class="radio"><input type="radio" name="theme" value="light" checked> –°–≤–µ—Ç–ª–∞—è</label>
          <label class="radio"><input type="radio" name="theme" value="dark"> –¢—ë–º–Ω–∞—è</label>
        </fieldset>

        <fieldset class="field">
          <legend>–ê–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç</legend>
          <div class="color-options">
            <button class="color-swatch" data-color="#007aff" style="--c:#007aff"></button>
            <button class="color-swatch" data-color="#6d4aff" style="--c:#6d4aff"></button>
            <button class="color-swatch" data-color="#40cfff" style="--c:#40cfff"></button>
            <button class="color-swatch" data-color="#ff4d6d" style="--c:#ff4d6d"></button>
            <input type="color" id="customColor" value="#007aff">
          </div>
        </fieldset>
      </section>

      <footer class="modal-footer">
        <button class="btn" value="cancel">–û—Ç–º–µ–Ω–∞</button>
        <button class="btn primary" id="saveSettings">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </footer>
    </form>
  </dialog>

  <script src="app.js" type="module"></script>
</body>
</html>
